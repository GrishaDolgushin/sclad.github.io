<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
	<meta name="theme-color" content="#009578">
<meta name="viewport" content="width=device-width, heigh=2100px, initial-scale=1.0">
<link rel="stylesheet" href="styles.css" />
<link rel="manifest" href="manifest.json">
<link rel="apple-touch-icon" href="./log.png">
	<script src="./knopk1.js"> </script>
	<script src="./knopk2.js"> </script>
	<script src="./knopk3.js"> </script>
	<script src="./pars1.js"> </script>
	<script src="./pars2.js"> </script>
	<script src="./pars3.js"> </script>
	<script src="./pars1-1.js"> </script>
	<script src="./pars2-1.js"> </script>
	<script src="./pars3-1.js"> </script>
	<script src="./poisk.js"> </script>
	<script src="./knopkpoisk.js"> </script>
  </head>
  <body>
	<button class="poisk" onclick="openForm3()">
		<div> Поиск </div>
	</button>
	<div class="form-popup" id="myForm2">
		<form action="#" class="form-container" id="form" method="post">
			<input type="text" id="text-to-find" value="">
			<input type="button" onclick="javascript: FindOnPage('text-to-find'); return false;" value="Искать"/>
			<input type="button" onclick="closeForm3()" value="Закрыть"/>¶
		</form>
	</div>
	<button class="open-button3" onclick="openForm1()" id='kn1'>
		<div class="div1" id='el1'> </div>
	</button>

	<button class="open-button2" onclick="openForm2()" id='kn2'>
		<div class="div2" id='el2'> </div>
	</button>

	<button class="priem" onclick="openForm4()" id='kn3'>Добавить палет</button>

	<button class="otgrus" onclick="openForm4()" id='kn4'>Добавить заказ</button>

<button class="open-button id='kn2'>
		<div class="div2" id='el3'> </div>
	</button>

<div class="yar">
<h3> Первый ярус </h3>
<hr />
<div>

	<div class="form-popup" id="myForm3">
		<form action="#" class="form-container" id="form" method="post">

			<label>Рада New верт 600 white </label>
			<input type="text" name="ba">

			<label>Рада New верт 700 white </label>
			<input type="text" name="bb">

			<label>Рада New верт 800 white </label>
			<input type="text" name="bc">

<label>Рада New верт 600 лиственица </label>
			<input type="text" name="bd">

			<label>Рада New верт 700 лиственица </label>
			<input type="text" name="bf">

			<label>Рада New верт 800 лиственица </label>
			<input type="text" name="bg">

			<button type="button" id='ay'>Добавить</button>
		</form>
		</div>


	<div class="form-popup" id="myForm1">
	    <form action="#" class="form-container" id="form" method="post">
		<div class ="tab">
			<div class="vs">
			<div id="div1">
	 			<label>Рада New верт 600 white </label>
	 			<input type="checkbox" id="gal1">
        			<input type="text" name="aa" id="myInput1">
      			</div>

      			<div id="div2">
        			<label>Рада New верт 700 white </label>
				<input type="checkbox" id="gal2">
        			<input type="text" id="myInput2" name="ab">
      			</div>

			<div id="div3">
        			<label>Рада New верт 800 white </label>
				<input type="checkbox" id="gal3">
        			<input type="text" id="myInput3" name="ac">
      			</div>

			<div id="div4">
	 			<label>Рада New верт 600 лиственица </label>
	 			<input type="checkbox" id="gal4">
        			<input type="text" name="ad" id="myInput4">
      			</div>

      			<div id="div5">
        			<label>Рада New верт 700 лиственица </label>
				<input type="checkbox" id="gal5">
        			<input type="text" id="myInput5" name="af">
      			</div>

			<div id="div6">
        			<label>Рада New верт 800 лиственица </label>
				<input type="checkbox" id="gal6">
        			<input type="text" id="myInput6" name="ag">
      			</div>

	  		<button type="button" id="nextBtn" onclick="nextPrev(1)">Взять</button>
</div>
	  	</div>
		<div class ="tab">
			<div class="sclad">

			<button class="open-button3-1" id='ax'>
				<div class="div" id='el1-1'> </div>
			</button>

			<button class="open-button2-1" id='bx'>
				<div class="div" id='el2-1'> </div>
			</button>

			<button class="open-button0-1" id='cx'>
				<div class="div" id='el3-1'> </div>
			</button>
			</div>
		</div>
		<div>
  			<span class="step"></span>
  			<span class="step"></span>
		</div>
	    </form>
</div>


<script src="./shagi.js"> </script>

<script>
const URL_APP =   "https://script.google.com/macros/s/AKfycbxOlBQgCx2fSkwgznrHRddC51SO0pZ-JRXQ5e92SK3j8iwzQk0zxm8fP7zBCrhFaIjW4w/exec";
const URL_APP1 =  "https://script.google.com/macros/s/AKfycbwmIDJj4hqZc0kqEP_S_4J9A6bGiXje9wxQ8D7uvOgE9okU_XZNXWQ5oZeYa3Y-2ApH3A/exec";
const URL_APP3 =  "https://script.google.com/macros/s/AKfycbyeguofP9S2p1Dscs3I-YoqKB2kYvYAllcUZLFyRdsPtc6-fAE2OcCfcxR9f5xWT0Ybqw/exec";
const URL_APP4 =  "https://script.google.com/macros/s/AKfycbztVI1CPKvQmBkzqS2VV4-kn809pvWSCxTV6ocIC2GX83YqVypukKiBFPRK6iOKcKYGLg/exec;

	// определяем какая кнопка нажата
let q;
function knop1() {q = 1;  };
function knop2() { q = 2; };
function knop3() { q = 1; };
function knop4() { q = 3; };
kn1.addEventListener("click", knop1)
kn2.addEventListener("click", knop2)
kn3.addEventListener("click", knop3)
kn4.addEventListener("click", knop4)

      // находим форму в документе
 const form = document.querySelector("#form");
// навешиваем обработчик на отправку формы
ax.addEventListener("click", async (ev) => {
	// отменяем действие по умолчанию
        ev.preventDefault();
        if (gal1.checked) {
		var aa = document.querySelector("[name=aa]");
		aa = aa.value.trim();
	} else
		var aa = 0;

	if (gal2.checked) {
		var ab = document.querySelector("[name=ab]");
		ab = ab.value.trim();
	} else
		var ab = 0;

	if (gal3.checked) {
		var ac = document.querySelector("[name=ac]");
		ac = ac.value.trim();
	} else
	      var ac = 0;

	if (gal4.checked) {
		var ad = document.querySelector("[name=ad]");
		ad = ad.value.trim();
	} else
		var ad = 0;

	if (gal5.checked) {
		var af = document.querySelector("[name=af]");
		af = af.value.trim();
	} else
		var af = 0;

	if (gal6.checked) {
		var ag = document.querySelector("[name=ag]");
		ag = ag.value.trim();
	} else
	      var ag = 0;

        let details = {aa, ab, ac, ad, af, ag, q,};

        // подготавливаем данные для отправки
        let formBody = [];
        for (let property in details) {
          // кодируем названия и значения параметров
          let encodedKey = encodeURIComponent(property);
          let encodedValue = encodeURIComponent(details[property]);
          formBody.push(encodedKey + "=" + encodedValue);
        }
        // склеиваем параметры в одну строку
        formBody = formBody.join("&");

        // выполняем отправку данных в Google Apps
        const result = await fetch(URL_APP, {
          method: "POST",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded;charset=UTF-8",
          },
          mode: "cors", //<- оставим по умолчанию
          body: formBody,
        })
          .then((res) => res.json())
          .catch((err) => location.reload ());

         if( result.type === 'success' ) {
            name.value = '';
	   location.reload ();
         }
         if( result.type === 'error' ) {
           alert(`Ошибка, укуси меня пёс!( ${result.errors}`)
         }


      });

bx.addEventListener("click", async (ev) => {
	// отменяем действие по умолчанию
        ev.preventDefault();
        if (gal1.checked) {
		var aa = document.querySelector("[name=aa]");
		aa = aa.value.trim();
	} else
		var aa = 0;

	if (gal2.checked) {
		var ab = document.querySelector("[name=ab]");
		ab = ab.value.trim();
	} else
		var ab = 0;

	if (gal3.checked) {
		var ac = document.querySelector("[name=ac]");
		ac = ac.value.trim();
	} else
	      var ac = 0;

	if (gal4.checked) {
		var ad = document.querySelector("[name=ad]");
		ad = ad.value.trim();
	} else
		var ad = 0;

	if (gal5.checked) {
		var af = document.querySelector("[name=af]");
		af = af.value.trim();
	} else
		var af = 0;

	if (gal6.checked) {
		var ag = document.querySelector("[name=ag]");
		ag = ag.value.trim();
	} else
	      var ag = 0;

        let details = {aa, ab, ac, ad, af, ag, q,};

        // подготавливаем данные для отправки
        let formBody = [];
        for (let property in details) {
          // кодируем названия и значения параметров
          let encodedKey = encodeURIComponent(property);
          let encodedValue = encodeURIComponent(details[property]);
          formBody.push(encodedKey + "=" + encodedValue);
        }
        // склеиваем параметры в одну строку
        formBody = formBody.join("&");

        // выполняем отправку данных в Google Apps
        const result = await fetch(URL_APP1, {
          method: "POST",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded;charset=UTF-8",
          },
          mode: "cors", //<- оставим по умолчанию
          body: formBody,
        })
          .then((res) => res.json())
          .catch((err) => alert(err));

         if( result.type === 'success' ) {
            name.value = '';
	   location.reload ();
         }
         if( result.type === 'error' ) {
           alert(`Ошибка, укуси меня пёс!( ${result.errors}`)
         }


      });

cx.addEventListener("click", async (ev) => {
	// отменяем действие по умолчанию
        ev.preventDefault();
        if (gal1.checked) {
		var aa = document.querySelector("[name=aa]");
		aa = aa.value.trim();
	} else
		var aa = 0;

	if (gal2.checked) {
		var ab = document.querySelector("[name=ab]");
		ab = ab.value.trim();
	} else
		var ab = 0;

	if (gal3.checked) {
		var ac = document.querySelector("[name=ac]");
		ac = ac.value.trim();
	} else
	      var ac = 0;

	if (gal4.checked) {
		var ad = document.querySelector("[name=ad]");
		ad = ad.value.trim();
	} else
		var ad = 0;

	if (gal5.checked) {
		var af = document.querySelector("[name=af]");
		af = af.value.trim();
	} else
		var af = 0;

	if (gal6.checked) {
		var ag = document.querySelector("[name=ag]");
		ag = ag.value.trim();
	} else
	      var ag = 0;

        let details = {aa, ab, ac, ad, af, ag, q,};

        // подготавливаем данные для отправки
        let formBody = [];
        for (let property in details) {
          // кодируем названия и значения параметров
          let encodedKey = encodeURIComponent(property);
          let encodedValue = encodeURIComponent(details[property]);
          formBody.push(encodedKey + "=" + encodedValue);
        }
        // склеиваем параметры в одну строку
        formBody = formBody.join("&");

        // выполняем отправку данных в Google Apps
        const result = await fetch(URL_APP4, {
          method: "POST",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded;charset=UTF-8",
          },
          mode: "cors", //<- оставим по умолчанию
          body: formBody,
        })
          .then((res) => res.json())
          .catch((err) => alert(err));

         if( result.type === 'success' ) {
            name.value = '';
	   location.reload ();
         }
         if( result.type === 'error' ) {
           alert(`Ошибка, укуси меня пёс!( ${result.errors}`)
         }


      });

ay.addEventListener("click", async (ev) => {
	// отменяем действие по умолчанию
        ev.preventDefault();
		var ba = document.querySelector("[name=ba]");
		ba = ba.value.trim();

		var bb = document.querySelector("[name=bb]");
		bb = bb.value.trim();

		var bc = document.querySelector("[name=bc]");
		bc = bc.value.trim();

	var bd = document.querySelector("[name=bd]");
		bd = bd.value.trim();

		var bf = document.querySelector("[name=bf]");
		bf = bf.value.trim();

		var bg = document.querySelector("[name=bg]");
		bg = bg.value.trim();

        let details = {ba, bb, bc, bd, bf, bg, q};

        // подготавливаем данные для отправки
        let formBody = [];
        for (let property in details) {
          // кодируем названия и значения параметров
          let encodedKey = encodeURIComponent(property);
          let encodedValue = encodeURIComponent(details[property]);
          formBody.push(encodedKey + "=" + encodedValue);
        }
        // склеиваем параметры в одну строку
        formBody = formBody.join("&");

        // выполняем отправку данных в Google Apps
        const result = await fetch(URL_APP3, {
          method: "POST",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded;charset=UTF-8",
          },
          mode: "cors", //<- оставим по умолчанию
          body: formBody,
        })
          .then((res) => res.json())
          .catch((err) => alert(err));

         if( result.type === 'success' ) {
            name.value = '';
	   location.reload ();
         }
         if( result.type === 'error' ) {
           alert(`Ошибка, укуси меня пёс!( ${result.errors}`)
         }


      });

</script>
  </body>
</html>
